keys:
  - &personal age18qj0jec3zd08uvyqs528zns4mh4vfy9eml0h5jn8nwftp8975fdqwsfe0t
  - &heanet age1atqgd6gkk8652nvk6gazdpvzrp9yuk46vped2kxuqnzu7tl5s5qq3wud4t
  - &hel-1 age17ymrxestjdajl0k7lgyurtqd0dgg0kan53v38s9vkrzctm8lmpfqr4vulk
  - &picard age17leaj82hje5y6ckpsuhkfk0rjk9wpyf62wdezh7pls32vmhlayestdz0y7
  - &surface age1j2s4pc26w7cvq4603ml42pnev02wgzzskvc6cmqk956npmy7v4ssc32rs2
  - &lore age1n3sy82k0fqme3ffsul8eme5j428z74aadk47kejwzewt0pkleqxqv29j29
  - &worf age1a7rd5exug5qcatf3kyyqlm9dejcgrvgyf6hp0xr0gq9c9563m52sywpckf
  - &pi01 age1twx77345dcp02uf4hysxg7xu9tk6nya87mgvpjs28l4vx29emsqshf9npz
  - &pi02 age1re5axnlmdaafldlzdk8ksq8ka7pnptpwuaj5rqdc2w4p02x6wqys39fhhh
  - &pi03 age1y0gxel6tfdtxx7rl3asyzg3sqxauevgej0angu20ppqxw5uwpf7sz8mej6
  - &pi04 age19hwszg4wwp5y7z56sqr6zk57dz269gxk3c0raawreldjfzy0lvpsmd8rpd
  - &pi05 age1h4cqg2vdt5atnnajg0zrfazscm9ktu95hylpa43d4rm34hds8dfqts4e8d
  - &tpi01 age1cwutx4fl84ffymnm6qup7kymraxy5hmnnwjxgne44vu44ndyaq3ssa4e6x
  - &tpi02 age15wtwk00rw3mkk0p9enl3yfca0axp08su89s8y6rkwns60qdw6y5q2kh86u
  - &tpi03 age1nf684fe0vk3jfjugp36yyhldkzja0c8hmdz3mhag33zjhvw7qfvqkrsuvw
  - &tpi04 age1frwwl5nc5ccp4grqlparrxlw5lt5wc3dx37djrg8pdqcg5t9hszsqms85q
creation_rules:
  - path_regex: ^nix\/secrets\/(personal|turing).(yaml|json|env|ini)$
    key_groups:
    - age:
      - *personal
  - path_regex: ^nix\/secrets\/heanet.(yaml|json|env|ini)$
    key_groups:
    - age:
      - *heanet
  - path_regex: ^nix\/hosts\/secrets.(yaml|json|env|ini)$
    key_groups:
    - age:
      - *personal
      - *hel-1
      - *picard
      - *surface
      - *lore
      - *worf
      - *pi01
      - *pi02
      - *pi03
      - *pi04
      - *pi05
      - *tpi01
      - *tpi02
      - *tpi03
      - *tpi04
# nix-shell -p ssh-to-age --run 'ssh-keyscan pi01.lan | ssh-to-age'
# export SOPS_AGE_KEY_FILE=~/.config/sops/age/keys.txt
# nix-shell -p sops --run "sops updatekeys nix/hosts/secrets.yaml"
